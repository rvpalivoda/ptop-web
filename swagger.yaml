swagger: '2.0'
info:
  description: "API \u0441\u0435\u0440\u0432\u0438\u0441\u0430 PTOP"
  title: PTOP API
  contact: {}
  version: '1.0'
basePath: /
paths:
  /assets:
    get:
      produces:
      - application/json
      tags:
      - reference
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u0430\u043A\u0442\u0438\u0432\
        \u043D\u044B\u0445 \u0430\u043A\u0442\u0438\u0432\u043E\u0432"
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ptop_internal_models.Asset'
  /auth/2fa/disable:
    post:
      security:
      - BearerAuth: []
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - auth
      summary: "\u041E\u0442\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u0434\
        \u0432\u0443\u0445\u0444\u0430\u043A\u0442\u043E\u0440\u043D\u043E\u0439 \u0430\
        \u0443\u0442\u0435\u043D\u0442\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0438"
      parameters:
      - description: "\u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\
          \u043D\u0438\u0435 \u043F\u0430\u0440\u043E\u043B\u044F"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.Disable2FARequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.StatusResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/2fa/enable:
    post:
      security:
      - BearerAuth: []
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - auth
      summary: "\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u0434\u0432\
        \u0443\u0445\u0444\u0430\u043A\u0442\u043E\u0440\u043D\u043E\u0439 \u0430\u0443\
        \u0442\u0435\u043D\u0442\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0438"
      parameters:
      - description: "\u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\
          \u043D\u0438\u0435 \u043F\u0430\u0440\u043E\u043B\u044F"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.Enable2FARequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.Enable2FAResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/login:
    post:
      description: "\u0410\u0443\u0442\u0435\u043D\u0442\u0438\u0444\u0438\u0446\u0438\
        \u0440\u0443\u0435\u0442 \u043A\u043B\u0438\u0435\u043D\u0442\u0430 \u0438\
        \ \u0432\u044B\u0434\u0430\u0451\u0442 \u043F\u0430\u0440\u0443 \u0442\u043E\
        \u043A\u0435\u043D\u043E\u0432. \u041F\u0440\u0438 \u0432\u043A\u043B\u044E\
        \u0447\u0451\u043D\u043D\u043E\u0439 2FA \u0442\u0440\u0435\u0431\u0443\u0435\
        \u0442\u0441\u044F \u043A\u043E\u0434."
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - auth
      summary: "\u0412\u0445\u043E\u0434 \u043A\u043B\u0438\u0435\u043D\u0442\u0430"
      parameters:
      - description: "\u0443\u0447\u0451\u0442\u043D\u044B\u0435 \u0434\u0430\u043D\
          \u043D\u044B\u0435"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.LoginRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.TokenResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/logout:
    post:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - auth
      summary: "\u0412\u044B\u0445\u043E\u0434 \u043A\u043B\u0438\u0435\u043D\u0442\
        \u0430"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.StatusResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/mnemonic/regenerate:
    post:
      security:
      - BearerAuth: []
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - auth
      summary: "\u041F\u0435\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\
        \u0438\u044F \u043C\u043D\u0435\u043C\u043E\u043D\u0438\u0447\u0435\u0441\u043A\
        \u043E\u0439 \u0444\u0440\u0430\u0437\u044B"
      parameters:
      - description: "\u043F\u0430\u0440\u043E\u043B\u044C"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.RegenerateMnemonicRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.RegenerateMnemonicResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/password:
    post:
      security:
      - BearerAuth: []
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - auth
      summary: "\u0421\u043C\u0435\u043D\u0430 \u043F\u0430\u0440\u043E\u043B\u044F"
      parameters:
      - description: "\u043F\u0430\u0440\u043E\u043B\u0438"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.ChangePasswordRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.StatusResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/pincode:
    post:
      security:
      - BearerAuth: []
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - auth
      summary: "\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 PIN-\u043A\u043E\
        \u0434\u0430"
      parameters:
      - description: "\u043F\u0438\u043D-\u043A\u043E\u0434"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.SetPinCodeRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.StatusResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/profile:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - auth
      summary: "\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043A\u043B\u0438\u0435\
        \u043D\u0442\u0430"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.ProfileResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/recover:
    post:
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - auth
      summary: "\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\
        \u043D\u0438\u0435 \u0434\u043E\u0441\u0442\u0443\u043F\u0430"
      parameters:
      - description: "\u0444\u0440\u0430\u0437\u044B \u0438 \u043D\u043E\u0432\u044B\
          \u0439 \u043F\u0430\u0440\u043E\u043B\u044C"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.RecoverRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.TokenResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/recover/{username}:
    get:
      produces:
      - application/json
      tags:
      - auth
      summary: "\u0417\u0430\u043F\u0440\u043E\u0441 \u043F\u043E\u0437\u0438\u0446\
        \u0438\u0439 \u0434\u043B\u044F \u0432\u043E\u0441\u0441\u0442\u0430\u043D\
        \u043E\u0432\u043B\u0435\u043D\u0438\u044F"
      parameters:
      - type: string
        description: "\u0438\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\
          \u0430\u0442\u0435\u043B\u044F"
        name: username
        in: path
        required: true
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.RecoverChallengeResponse'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/refresh:
    post:
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - auth
      summary: "\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 access\
        \ \u0442\u043E\u043A\u0435\u043D\u0430"
      parameters:
      - description: "refresh \u0442\u043E\u043A\u0435\u043D"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.RefreshRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.TokenResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/register:
    post:
      description: "\u0421\u043E\u0437\u0434\u0430\u0451\u0442 \u043D\u043E\u0432\u043E\
        \u0433\u043E \u043A\u043B\u0438\u0435\u043D\u0442\u0430 \u0441 \u0443\u043D\
        \u0438\u043A\u0430\u043B\u044C\u043D\u044B\u043C \u0438\u043C\u0435\u043D\u0435\
        \u043C, \u0445\u0435\u0448\u0435\u043C \u043F\u0430\u0440\u043E\u043B\u044F\
        \ \u0438 \u043C\u043D\u0435\u043C\u043E\u043D\u0438\u0447\u0435\u0441\u043A\
        \u043E\u0439 \u0444\u0440\u0430\u0437\u043E\u0439"
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - auth
      summary: "\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F\
        \ \u043A\u043B\u0438\u0435\u043D\u0442\u0430"
      parameters:
      - description: "\u0434\u0430\u043D\u043D\u044B\u0435 \u0440\u0435\u0433\u0438\
          \u0441\u0442\u0440\u0430\u0446\u0438\u0438"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.RegisterRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.RegisterResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '409':
          description: Conflict
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/username:
    post:
      security:
      - BearerAuth: []
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - auth
      summary: "\u0421\u043C\u0435\u043D\u0430 \u0438\u043C\u0435\u043D\u0438 \u043F\
        \u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"
      parameters:
      - description: "\u043D\u043E\u0432\u043E\u0435 \u0438\u043C\u044F"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.ChangeUsernameRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.StatusResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '409':
          description: Conflict
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /auth/verify-password:
    post:
      security:
      - BearerAuth: []
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - auth
      summary: "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u0442\u0435\u043A\
        \u0443\u0449\u0435\u0433\u043E \u043F\u0430\u0440\u043E\u043B\u044F"
      parameters:
      - description: "\u043F\u0430\u0440\u043E\u043B\u044C"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.VerifyPasswordRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.VerifyPasswordResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /client/assets:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - reference
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u0430\u043A\u0442\u0438\u0432\
        \u043D\u044B\u0445 \u0430\u043A\u0442\u0438\u0432\u043E\u0432 \u0441 \u0430\
        \u0434\u0440\u0435\u0441\u0430\u043C\u0438 \u043A\u043E\u0448\u0435\u043B\u044C\
        \u043A\u043E\u0432 \u0438 \u0431\u0430\u043B\u0430\u043D\u0441\u0430\u043C\
        \u0438 \u043A\u043B\u0438\u0435\u043D\u0442\u0430"
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/internal_handlers.AssetWithWallet'
  /client/balances:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - balances
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u0431\u0430\u043B\u0430\u043D\
        \u0441\u043E\u0432 \u043A\u043B\u0438\u0435\u043D\u0442\u0430"
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ptop_internal_models.Balance'
  /client/escrows:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - escrows
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u044D\u0441\u043A\u0440\u043E\
        \u0443 \u043A\u043B\u0438\u0435\u043D\u0442\u0430"
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ptop_internal_models.Escrow'
  /client/offers:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - offers
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u043E\u0431\u044A\u044F\u0432\
        \u043B\u0435\u043D\u0438\u0439 \u043A\u043B\u0438\u0435\u043D\u0442\u0430"
      parameters:
      - type: boolean
        description: "\u0444\u0438\u043B\u044C\u0442\u0440 \u043F\u043E \u0430\u043A\
          \u0442\u0438\u0432\u043D\u044B\u043C"
        name: enabled
        in: query
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ptop_internal_models.Offer'
    post:
      security:
      - BearerAuth: []
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - offers
      summary: "\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043E\u0431\u044A\u044F\
        \u0432\u043B\u0435\u043D\u0438\u0435"
      parameters:
      - description: "\u0434\u0430\u043D\u043D\u044B\u0435"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.OfferRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ptop_internal_models.Offer'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /client/offers/{id}:
    put:
      security:
      - BearerAuth: []
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - offers
      summary: "\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u043E\u0431\u044A\
        \u044F\u0432\u043B\u0435\u043D\u0438\u0435"
      parameters:
      - type: string
        description: ID
        name: id
        in: path
        required: true
      - description: "\u0434\u0430\u043D\u043D\u044B\u0435"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.OfferRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ptop_internal_models.Offer'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /client/offers/{id}/disable:
    post:
      security:
      - BearerAuth: []
      tags:
      - offers
      summary: "\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043E\u0431\
        \u044A\u044F\u0432\u043B\u0435\u043D\u0438\u0435"
      parameters:
      - type: string
        description: ID
        name: id
        in: path
        required: true
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ptop_internal_models.Offer'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /client/offers/{id}/enable:
    post:
      security:
      - BearerAuth: []
      tags:
      - offers
      summary: "\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043E\u0431\u044A\
        \u044F\u0432\u043B\u0435\u043D\u0438\u0435"
      parameters:
      - type: string
        description: ID
        name: id
        in: path
        required: true
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ptop_internal_models.Offer'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /client/orders:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - orders
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u043E\u0440\u0434\u0435\u0440\
        \u043E\u0432 \u043A\u043B\u0438\u0435\u043D\u0442\u0430"
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ptop_internal_models.Order'
    post:
      security:
      - BearerAuth: []
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - orders
      summary: "\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043E\u0440\u0434\u0435\
        \u0440"
      parameters:
      - description: "\u0434\u0430\u043D\u043D\u044B\u0435"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.OrderRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ptop_internal_models.Order'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /client/payment-methods:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - client-payment-methods
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u043B\u0430\u0442\u0451\
        \u0436\u043D\u044B\u0445 \u043C\u0435\u0442\u043E\u0434\u043E\u0432 \u043A\
        \u043B\u0438\u0435\u043D\u0442\u0430"
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ptop_internal_models.ClientPaymentMethod'
    post:
      security:
      - BearerAuth: []
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - client-payment-methods
      summary: "\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043F\u043B\u0430\u0442\
        \u0451\u0436\u043D\u044B\u0439 \u043C\u0435\u0442\u043E\u0434 \u043A\u043B\
        \u0438\u0435\u043D\u0442\u0430"
      parameters:
      - description: "\u0434\u0430\u043D\u043D\u044B\u0435"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.CreateClientPaymentMethodRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ptop_internal_models.ClientPaymentMethod'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '409':
          description: Conflict
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /client/payment-methods/{id}:
    delete:
      security:
      - BearerAuth: []
      tags:
      - client-payment-methods
      summary: "\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u043B\u0430\u0442\
        \u0451\u0436\u043D\u044B\u0439 \u043C\u0435\u0442\u043E\u0434 \u043A\u043B\
        \u0438\u0435\u043D\u0442\u0430"
      parameters:
      - type: string
        description: ID
        name: id
        in: path
        required: true
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.StatusResponse'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /client/transactions/in:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - transactions
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u0432\u0445\u043E\u0434\u044F\
        \u0449\u0438\u0445 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0439\
        \ \u043A\u043B\u0438\u0435\u043D\u0442\u0430"
      parameters:
      - type: integer
        description: "\u043B\u0438\u043C\u0438\u0442"
        name: limit
        in: query
      - type: integer
        description: "\u0441\u043C\u0435\u0449\u0435\u043D\u0438\u0435"
        name: offset
        in: query
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/models.TransactionIn'
  /client/transactions/internal:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - transactions
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u0432\u043D\u0443\u0442\u0440\
        \u0435\u043D\u043D\u0438\u0445 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\
        \u0438\u0439 \u043A\u043B\u0438\u0435\u043D\u0442\u0430"
      parameters:
      - type: integer
        description: "\u043B\u0438\u043C\u0438\u0442"
        name: limit
        in: query
      - type: integer
        description: "\u0441\u043C\u0435\u0449\u0435\u043D\u0438\u0435"
        name: offset
        in: query
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/models.TransactionInternal'
  /client/transactions/out:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - transactions
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u0438\u0441\u0445\u043E\u0434\
        \u044F\u0449\u0438\u0445 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\
        \u0439 \u043A\u043B\u0438\u0435\u043D\u0442\u0430"
      parameters:
      - type: integer
        description: "\u043B\u0438\u043C\u0438\u0442"
        name: limit
        in: query
      - type: integer
        description: "\u0441\u043C\u0435\u0449\u0435\u043D\u0438\u0435"
        name: offset
        in: query
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/models.TransactionOut'
  /client/wallets:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - wallets
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u043A\u043E\u0448\u0435\u043B\
        \u044C\u043A\u043E\u0432 \u043A\u043B\u0438\u0435\u043D\u0442\u0430"
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ptop_internal_models.Wallet'
    post:
      security:
      - BearerAuth: []
      description: "\u041F\u0440\u0438 DEBUG_FAKE_NETWORK=true \u0430\u0434\u0440\u0435\
        \u0441 \u0433\u0435\u043D\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044F\
        \ \u0431\u0435\u0437 \u043E\u0431\u0440\u0430\u0449\u0435\u043D\u0438\u044F\
        \ \u043A \u0441\u0435\u0442\u0438 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\
        \u0435 fake:{asset}:{client}:{index}"
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - wallets
      summary: "\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043A\u043E\u0448\u0435\
        \u043B\u0451\u043A"
      parameters:
      - description: "\u0434\u0430\u043D\u043D\u044B\u0435"
        name: input
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.WalletRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ptop_internal_models.Wallet'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /countries:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - reference
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ptop_internal_models.Country'
  /debug/deposit:
    post:
      description: "\u0421\u043E\u0437\u0434\u0430\u0451\u0442 \u0444\u0435\u0439\u043A\
        \u043E\u0432\u044B\u0439 \u0434\u0435\u043F\u043E\u0437\u0438\u0442 \u043D\
        \u0430 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u044B\u0439 \u043A\u043E\
        \u0448\u0435\u043B\u0451\u043A"
      consumes:
      - application/json
      produces:
      - application/json
      tags:
      - debug
      summary: "\u0422\u0435\u0441\u0442\u043E\u0432\u044B\u0439 \u0434\u0435\u043F\
        \u043E\u0437\u0438\u0442"
      parameters:
      - description: "\u0417\u0430\u043F\u0440\u043E\u0441"
        name: request
        in: body
        required: true
        schema:
          $ref: '#/definitions/internal_handlers.DebugDepositRequest'
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          schema:
            type: object
            additionalProperties:
              type: string
        '404':
          description: Not Found
          schema:
            type: object
            additionalProperties:
              type: string
  /health:
    get:
      produces:
      - application/json
      tags:
      - health
      summary: "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u0441\u043E\u0441\
        \u0442\u043E\u044F\u043D\u0438\u044F \u0441\u0435\u0440\u0432\u0438\u0441\u0430"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/internal_handlers.StatusResponse'
        '503':
          description: Service Unavailable
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /offers:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - offers
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u0430\u043A\u0442\u0438\u0432\
        \u043D\u044B\u0445 \u043E\u0431\u044A\u044F\u0432\u043B\u0435\u043D\u0438\u0439"
      parameters:
      - type: string
        description: "ID \u0430\u043A\u0442\u0438\u0432\u0430 \u043E\u0442"
        name: from_asset
        in: query
      - type: string
        description: "ID \u0430\u043A\u0442\u0438\u0432\u0430 \u043A"
        name: to_asset
        in: query
      - type: string
        description: "\u043C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u0430\
          \u044F \u0441\u0443\u043C\u043C\u0430"
        name: min_amount
        in: query
      - type: string
        description: "\u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\
          \u0430\u044F \u0441\u0443\u043C\u043C\u0430"
        name: max_amount
        in: query
      - type: string
        description: "ID \u0441\u043F\u043E\u0441\u043E\u0431\u0430 \u043E\u043F\u043B\
          \u0430\u0442\u044B"
        name: payment_method
        in: query
      - type: string
        description: "\u0442\u0438\u043F \u043E\u0431\u044A\u044F\u0432\u043B\u0435\
          \u043D\u0438\u044F: buy \u0438\u043B\u0438 sell"
        name: type
        in: query
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ptop_internal_models.Offer'
  /orders/{id}/messages:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - orders
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u043E\u043E\u0431\u0449\
        \u0435\u043D\u0438\u0439 \u043E\u0440\u0434\u0435\u0440\u0430"
      parameters:
      - type: string
        description: "ID \u043E\u0440\u0434\u0435\u0440\u0430"
        name: id
        in: path
        required: true
      - type: string
        description: cursor
        name: cursor
        in: query
      - type: string
        description: after
        name: after
        in: query
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ptop_internal_models.OrderMessage'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
    post:
      security:
      - BearerAuth: []
      description: "\u041F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044E\
        \u0442\u0441\u044F \u0442\u0438\u043F\u044B \u0444\u0430\u0439\u043B\u043E\
        \u0432: image/jpeg, image/png, application/pdf"
      consumes:
      - application/json
      - multipart/form-data
      produces:
      - application/json
      tags:
      - orders
      summary: "\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0441\u043E\
        \u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u0432 \u043E\u0440\u0434\u0435\
        \u0440"
      parameters:
      - type: string
        description: "ID \u043E\u0440\u0434\u0435\u0440\u0430"
        name: id
        in: path
        required: true
      - description: "\u0434\u0430\u043D\u043D\u044B\u0435"
        name: input
        in: body
        schema:
          $ref: '#/definitions/internal_handlers.OrderMessageRequest'
      - type: file
        description: "\u0444\u0430\u0439\u043B (image/jpeg, image/png, application/pdf)"
        name: file
        in: formData
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ptop_internal_models.OrderMessage'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /orders/{id}/messages/{msgId}/read:
    patch:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - orders
      summary: "\u041E\u0442\u043C\u0435\u0442\u0438\u0442\u044C \u0441\u043E\u043E\
        \u0431\u0449\u0435\u043D\u0438\u0435 \u043F\u0440\u043E\u0447\u0438\u0442\u0430\
        \u043D\u043D\u044B\u043C"
      parameters:
      - type: string
        description: "ID \u043E\u0440\u0434\u0435\u0440\u0430"
        name: id
        in: path
        required: true
      - type: string
        description: "ID \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F"
        name: msgId
        in: path
        required: true
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ptop_internal_models.OrderMessage'
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
  /payment-methods:
    get:
      security:
      - BearerAuth: []
      produces:
      - application/json
      tags:
      - reference
      summary: "\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u043B\u0430\u0442\u0451\
        \u0436\u043D\u044B\u0445 \u043C\u0435\u0442\u043E\u0434\u043E\u0432"
      responses:
        '200':
          description: "\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u0430\
            \u044F \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0430 \u043F\u043B\
            \u0430\u0442\u0451\u0436\u043D\u044B\u0445 \u043C\u0435\u0442\u043E\u0434\
            \u043E\u0432"
          schema:
            type: array
            items:
              $ref: '#/definitions/ptop_internal_models.PaymentMethod'
  /ws/orders/{id}/chat:
    get:
      security:
      - BearerAuth: []
      description: "\u041F\u0440\u0438 \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\
        \u043D\u0438\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u0442\
        \ \u0438\u0441\u0442\u043E\u0440\u0438\u044E \u0441\u043E\u043E\u0431\u0449\
        \u0435\u043D\u0438\u0439 \u0438\u0437 \u043A\u0435\u0448\u0430 Redis"
      tags:
      - orders
      summary: "Websocket \u0447\u0430\u0442 \u043E\u0440\u0434\u0435\u0440\u0430"
      parameters:
      - type: string
        description: "ID \u043E\u0440\u0434\u0435\u0440\u0430"
        name: id
        in: path
        required: true
      responses:
        '101':
          description: Switching Protocols
          schema:
            type: string
        '403':
          description: Forbidden
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/internal_handlers.ErrorResponse'
definitions:
  internal_handlers.AssetWithWallet:
    type: object
    properties:
      amount:
        type: number
      amountEscrow:
        type: number
      description:
        type: string
      id:
        type: string
      isActive:
        type: boolean
      isConvertible:
        type: boolean
      name:
        type: string
      type:
        type: string
      value:
        type: string
  internal_handlers.ChangePasswordRequest:
    type: object
    properties:
      confirm_password:
        type: string
      new_password:
        type: string
      old_password:
        type: string
  internal_handlers.ChangeUsernameRequest:
    type: object
    properties:
      new_username:
        type: string
      password:
        type: string
  internal_handlers.CreateClientPaymentMethodRequest:
    type: object
    properties:
      city:
        type: string
      country_id:
        type: string
      name:
        type: string
      payment_method_id:
        type: string
      post_code:
        type: string
  internal_handlers.DebugDepositRequest:
    type: object
    required:
    - amount
    - wallet_id
    properties:
      amount:
        type: string
      wallet_id:
        type: string
  internal_handlers.Disable2FARequest:
    type: object
    properties:
      password:
        type: string
  internal_handlers.Enable2FARequest:
    type: object
    properties:
      password:
        type: string
  internal_handlers.Enable2FAResponse:
    type: object
    properties:
      secret:
        type: string
      url:
        type: string
  internal_handlers.ErrorResponse:
    type: object
    properties:
      error:
        type: string
  internal_handlers.LoginRequest:
    type: object
    properties:
      code:
        type: string
      password:
        type: string
      username:
        type: string
  internal_handlers.MnemonicWord:
    type: object
    properties:
      position:
        type: integer
      word:
        type: string
  internal_handlers.OfferRequest:
    type: object
    properties:
      amount:
        type: string
      client_payment_method_ids:
        type: array
        items:
          type: string
      conditions:
        type: string
      from_asset_id:
        type: string
      max_amount:
        type: string
      min_amount:
        type: string
      order_expiration_timeout:
        type: integer
      price:
        type: string
      to_asset_id:
        type: string
      type:
        type: string
  internal_handlers.OrderMessageRequest:
    type: object
    properties:
      content:
        type: string
  internal_handlers.OrderRequest:
    type: object
    properties:
      amount:
        type: string
      client_payment_method_id:
        type: string
      offer_id:
        type: string
  internal_handlers.ProfileResponse:
    type: object
    properties:
      pincode_set:
        type: boolean
      twofa_enabled:
        type: boolean
      username:
        type: string
  internal_handlers.RecoverChallengeResponse:
    type: object
    properties:
      positions:
        type: array
        items:
          type: integer
  internal_handlers.RecoverPhrase:
    type: object
    properties:
      position:
        type: integer
      word:
        type: string
  internal_handlers.RecoverRequest:
    type: object
    properties:
      new_password:
        type: string
      password_confirm:
        type: string
      phrases:
        type: array
        items:
          $ref: '#/definitions/internal_handlers.RecoverPhrase'
      username:
        type: string
  internal_handlers.RefreshRequest:
    type: object
    properties:
      refresh_token:
        type: string
  internal_handlers.RegenerateMnemonicRequest:
    type: object
    properties:
      password:
        type: string
  internal_handlers.RegenerateMnemonicResponse:
    type: object
    properties:
      mnemonic:
        type: array
        items:
          $ref: '#/definitions/internal_handlers.MnemonicWord'
  internal_handlers.RegisterRequest:
    type: object
    properties:
      password:
        type: string
      password_confirm:
        type: string
      username:
        type: string
  internal_handlers.RegisterResponse:
    type: object
    properties:
      access_token:
        type: string
      mnemonic:
        type: array
        items:
          $ref: '#/definitions/internal_handlers.MnemonicWord'
      refresh_token:
        type: string
  internal_handlers.SetPinCodeRequest:
    type: object
    properties:
      password:
        type: string
      pincode:
        type: string
  internal_handlers.StatusResponse:
    type: object
    properties:
      status:
        type: string
  internal_handlers.TokenResponse:
    type: object
    properties:
      access_token:
        type: string
      refresh_token:
        type: string
  internal_handlers.VerifyPasswordRequest:
    type: object
    properties:
      password:
        type: string
  internal_handlers.VerifyPasswordResponse:
    type: object
    properties:
      verified:
        type: boolean
  internal_handlers.WalletRequest:
    type: object
    properties:
      asset_id:
        type: string
  ptop_internal_models.Asset:
    type: object
    properties:
      description:
        type: string
      id:
        type: string
      isActive:
        type: boolean
      isConvertible:
        type: boolean
      name:
        type: string
      type:
        type: string
  ptop_internal_models.Balance:
    type: object
    properties:
      amount:
        type: number
      amountEscrow:
        type: number
      assetID:
        type: string
      clientID:
        type: string
      createdAt:
        type: string
      id:
        type: string
      updatedAt:
        type: string
  ptop_internal_models.ClientPaymentMethod:
    type: object
    properties:
      city:
        type: string
      clientID:
        type: string
      countryID:
        type: string
      id:
        type: string
      name:
        type: string
      paymentMethodID:
        type: string
      postCode:
        type: string
  ptop_internal_models.Country:
    type: object
    properties:
      id:
        type: string
      name:
        type: string
  ptop_internal_models.Escrow:
    type: object
    properties:
      amount:
        type: number
      assetID:
        type: string
      clientID:
        type: string
      createdAt:
        type: string
      id:
        type: string
      offerID:
        type: string
      orderID:
        type: string
      updatedAt:
        type: string
  ptop_internal_models.FeeSideType:
    type: string
    enum:
    - sender
    - receiver
    - shared
    x-enum-varnames:
    - FeeSideSender
    - FeeSideReceiver
    - FeeSideShared
  ptop_internal_models.KycLevelHintType:
    type: string
    enum:
    - low
    - medium
    - high
    x-enum-varnames:
    - KycLevelHintLow
    - KycLevelHintMedium
    - KycLevelHintHigh
  ptop_internal_models.MessageType:
    type: string
    enum:
    - TEXT
    - SYSTEM
    - FILE
    x-enum-varnames:
    - MessageTypeText
    - MessageTypeSystem
    - MessageTypeFile
  ptop_internal_models.Offer:
    type: object
    properties:
      TTL:
        type: string
      amount:
        type: number
      clientID:
        type: string
      conditions:
        type: string
      createdAt:
        type: string
      disabledAt:
        type: string
      enabledAt:
        type: string
      fromAssetID:
        type: string
      id:
        type: string
      isEnabled:
        type: boolean
      maxAmount:
        type: number
      minAmount:
        type: number
      orderExpirationTimeout:
        type: integer
      price:
        type: number
      toAssetID:
        type: string
      type:
        type: string
      updatedAt:
        type: string
  ptop_internal_models.Order:
    type: object
    properties:
      amount:
        type: number
      buyerID:
        type: string
      clientPaymentMethodID:
        type: string
      createdAt:
        type: string
      expiresAt:
        type: string
      fromAssetID:
        type: string
      id:
        type: string
      isEscrow:
        type: boolean
      offerID:
        type: string
      price:
        type: number
      releasedAt:
        type: string
      sellerID:
        type: string
      status:
        $ref: '#/definitions/ptop_internal_models.OrderStatus'
      toAssetID:
        type: string
      updatedAt:
        type: string
  ptop_internal_models.OrderMessage:
    type: object
    properties:
      chatID:
        type: string
      clientID:
        type: string
      content:
        type: string
      createdAt:
        type: string
      fileSize:
        type: integer
        format: int64
      fileType:
        type: string
      fileURL:
        type: string
      id:
        type: string
      readAt:
        type: string
      type:
        $ref: '#/definitions/ptop_internal_models.MessageType'
      updatedAt:
        type: string
  ptop_internal_models.OrderStatus:
    type: string
    enum:
    - WAIT_PAYMENT
    - PAID
    - RELEASED
    - CANCELLED
    - DISPUTE
    x-enum-varnames:
    - OrderStatusWaitPayment
    - OrderStatusPaid
    - OrderStatusReleased
    - OrderStatusCancelled
    - OrderStatusDispute
  ptop_internal_models.PaymentMethod:
    type: object
    properties:
      chargebackWindowHours:
        type: integer
      countries:
        type: array
        items:
          $ref: '#/definitions/ptop_internal_models.Country'
      feeSide:
        $ref: '#/definitions/ptop_internal_models.FeeSideType'
      id:
        type: string
      isRealtime:
        type: boolean
      isReversible:
        type: boolean
      kycLevelHint:
        $ref: '#/definitions/ptop_internal_models.KycLevelHintType'
      methodGroup:
        type: string
      name:
        type: string
      provider:
        type: string
      regions:
        type: array
        items:
          type: string
      settlementMinutes:
        type: integer
      typicalFiatCCY:
        type: string
  models.TransactionIn:
    type: object
    properties:
      amount:
        type: number
      assetID:
        type: string
      assetName:
        type: string
      clientID:
        type: string
      createdAt:
        type: string
      data:
        type: object
      id:
        type: string
      status:
        $ref: '#/definitions/models.TransactionInStatus'
      updatedAt:
        type: string
      walletID:
        type: string
  models.TransactionInStatus:
    type: string
    enum:
    - pending
    - processing
    - confirmed
    - failed
    x-enum-varnames:
    - TransactionInStatusPending
    - TransactionInStatusProcessing
    - TransactionInStatusConfirmed
    - TransactionInStatusFailed
  models.TransactionInternal:
    type: object
    properties:
      amount:
        type: number
      assetID:
        type: string
      assetName:
        type: string
      createdAt:
        type: string
      data:
        type: object
      fromClientID:
        type: string
      id:
        type: string
      orderInfo:
        type: string
      status:
        $ref: '#/definitions/models.TransactionInternalStatus'
      toClientID:
        type: string
      updatedAt:
        type: string
  models.TransactionInternalStatus:
    type: string
    enum:
    - processing
    - confirmed
    - failed
    x-enum-varnames:
    - TransactionInternalStatusProcessing
    - TransactionInternalStatusConfirmed
    - TransactionInternalStatusFailed
  models.TransactionOut:
    type: object
    properties:
      amount:
        type: number
      assetID:
        type: string
      assetName:
        type: string
      clientID:
        type: string
      createdAt:
        type: string
      data:
        type: object
      fromAddress:
        type: string
      id:
        type: string
      status:
        $ref: '#/definitions/models.TransactionOutStatus'
      toAddress:
        type: string
      updatedAt:
        type: string
  models.TransactionOutStatus:
    type: string
    enum:
    - pending
    - processing
    - confirmed
    - failed
    - cancelled
    x-enum-varnames:
    - TransactionOutStatusPending
    - TransactionOutStatusProcessing
    - TransactionOutStatusConfirmed
    - TransactionOutStatusFailed
    - TransactionOutStatusCancelled
  models.Wallet:
    type: object
    properties:
      assetID:
        type: string
      clientID:
        type: string
      createdAt:
        type: string
      enabledAt:
        type: string
      id:
        type: string
      index:
        type: integer
      value:
        type: string
securityDefinitions:
  BearerAuth:
    type: apiKey
    name: Authorization
    in: header
